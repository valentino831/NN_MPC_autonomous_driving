clear all;
close all;
clc;

Trajectory = [

 -351.5400  306.3400         0;
 -348.8873  305.4439         0;
 -346.2346  304.5479         0;
 -343.5817  303.6524         0;
 -340.9285  302.7579         0;
 -338.2747  301.8650         0;
 -335.6202  300.9743         0;
 -332.9648  300.0862         0;
 -330.3084  299.2013         0;
 -327.6507  298.3202         0];

waypoints = [-266.7 277.3 0;
    -182.6 243 0;
    -138.8 218.2 0;
    -83.2 178.2 0;
    -42.3 141.3 0;
    10.1 85.5 0;
    52 34.5 0;
    153.8 -102.9 0;
    169.3 -123.5 0;
    216.5 -186.3 0;
    272.58 -255.9 0.01;
    320 -312.7 0;
    359.5 -358.5 0;
    421.3 -426.4 0;
    480.3 -488.7 0;
    515.4 -522.8 0;
    592.8 -599.1 0;
    708 -713.4 0];

y = spline(waypoints(:,1),waypoints(:,2));
yt = spline(Trajectory(:,1),Trajectory(:,2));

x = -351.54:0.1:-327.6507;
traj = ppval(yt,x);
center = ppval(y,x);
figure, 
plot(-center,x,-traj,x);grid on;xlabel('y');ylabel('x');legend('center','trajectory');